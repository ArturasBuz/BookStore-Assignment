<!-- Header -->
<div class="dialog-header">
  <h2>{{ 'dialogs.create.title' | translate }}</h2>
  <button data-test-id="button-create-book-close" mat-icon-button mat-dialog-close aria-label="Close">
    <mat-icon>close</mat-icon>
  </button>
</div>

<!-- Content -->
<mat-dialog-content>
  <form [formGroup]="createForm">
    <!-- Title -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'form.title' | translate }}</mat-label>
      <input matInput formControlName="title" required />
      <mat-error *ngIf="createForm.get('title')?.hasError('required')"
        >{{ 'validation.required' | translate }}</mat-error
      >
    </mat-form-field>

    <!-- Price -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'form.price' | translate }}</mat-label>
      <input matInput type="number" formControlName="price" required />
      <mat-error *ngIf="createForm.get('price')?.hasError('required')"
        >{{ 'validation.required' | translate }}</mat-error
      >
      <mat-error *ngIf="createForm.get('price')?.hasError('min')">{{ 'validation.minValue' | translate }}</mat-error>
    </mat-form-field>

    <!-- Page count -->
    <mat-form-field appearance="outline">
      <mat-label>{{ 'form.pageCount' | translate }}</mat-label>
      <input matInput type="number" formControlName="pageCount" required />
      <mat-error *ngIf="createForm.get('pageCount')?.hasError('required')"
        >{{ 'validation.required' | translate }}</mat-error
      >
      <mat-error *ngIf="createForm.get('pageCount')?.hasError('min')"
        >{{ 'validation.minPages' | translate }}</mat-error
      >
    </mat-form-field>

    <mat-checkbox formControlName="onSale">{{ 'form.onSale' | translate }}</mat-checkbox>
  </form>
</mat-dialog-content>

<!-- Actions -->
<mat-dialog-actions>
  <!-- Cancel button -->
  <button data-test-id="button-create-book-cancel" mat-stroked-button (click)="onCancel()">
    {{ 'buttons.cancel' | translate }}
  </button>

  <!-- Save button -->
  <button
    data-test-id="button-create-book-save"
    mat-raised-button
    color="primary"
    (click)="onSave()"
    [disabled]="!createForm.valid || isLoading"
  >
    <span *ngIf="!isLoading">{{ 'buttons.save' | translate }}</span>
    <span *ngIf="isLoading">{{ 'buttons.creating' | translate }}</span>
  </button>
</mat-dialog-actions>
